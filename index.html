<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <link rel="icon" type="image/x-icon" href="/favicon.ico">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>PG Plaisio - Pricing</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.3/font/bootstrap-icons.css">
    <link rel="stylesheet" href="styles/main.css">
</head>

<body>

    <!-- Desktop Sidebar -->
    <div id="sidebar" class="sidebar d-none d-md-flex flex-column">
        <button class="btn btn-light mb-3 mx-2" id="toggleBtn">
            <i class="bi bi-list"></i>
        </button>
        <a href="#" class="nav-link"><i class="bi bi-house"></i><span> Home</span></a>
        <a href="#" class="nav-link"><i class="bi bi-gear"></i><span> Settings</span></a>
        <a href="#" class="nav-link"><i class="bi bi-box-arrow-right"></i><span> Logout</span></a>
    </div>

    <!-- Top Navbar (mobilde görünsün) -->
    <nav class="navbar navbar-light bg-light d-md-none">
        <div class="container-fluid">
            <button class="btn btn-outline-secondary" type="button" data-bs-toggle="offcanvas"
                data-bs-target="#mobileMenu">
                <i class="bi bi-list"></i>
            </button>
            <span class="navbar-brand mb-0 h1">My App</span>
        </div>
    </nav>

    <!-- Offcanvas Sidebar (mobil menü) -->
    <div class="offcanvas offcanvas-start" tabindex="-1" id="mobileMenu">
        <div class="offcanvas-header">
            <h5 class="offcanvas-title">Menu</h5>
            <button type="button" class="btn-close" data-bs-dismiss="offcanvas"></button>
        </div>
        <div class="offcanvas-body">
            <a href="#" class="nav-link mb-2"><i class="bi bi-house me-2"></i> Home</a>
            <a href="#" class="nav-link mb-2"><i class="bi bi-gear me-2"></i> Settings</a>
            <a href="#" class="nav-link"><i class="bi bi-box-arrow-right me-2"></i> Logout</a>
        </div>
    </div>

    <!-- Content -->
    <div id="content" class="content">

        <div class="row">
            <!-- Left: Form -->
            <div class="col-md-9 mb-4">
                <div class="card shadow-sm">
                    <div class="card-body">
                        <h5 class="card-title">Input Form</h5>
                        <form class="needs-validation" novalidate>
                            <div class="mb-3">
                                <label for="frame-input" class="form-label">Frame</label>
                                <input type="number" class="form-control" id="frame-input" value="0" min="0" step="1"
                                    required>
                                <div class="invalid-feedback">
                                    Please enter a valid number.
                                </div>
                            </div>
                            <div class="mb-3">
                                <label for="second-frame-input" class="form-label">Second Frame</label>
                                <input type="number" class="form-control" id="second-frame-input" value="0" required>
                                <div class="invalid-feedback">
                                    Please enter a valid number.
                                </div>
                            </div>
                            <div class="mb-3">
                                <label class="form-label">Options</label>
                                <select class="form-select" id="frameSelect" required>
                                    <option disabled selected value>Select</option>
                                    <option value="2">Option A</option>
                                    <option value="3">Option B</option>
                                </select>
                                <p id="statusMessage" class="mt-3"></p>
                                <div class="invalid-feedback">
                                    Please select
                                </div>
                            </div>
                            <div class="form-check">
                                <input type="checkbox" class="form-check-input" id="check1">
                                <label for="check1" class="form-check-label">Enable feature</label>
                            </div>
                        </form>
                    </div>
                </div>
            </div>

            <!-- Right : Price Summary -->
            <div class="col-md-3">
                <div class="card bg-light shadow-sm">
                    <div class="card-header">
                        Price Summary
                    </div>
                    <div class="card-body">
                        <ul class="list-group mb-3">
                            <li class="list-group-item d-flex justify-content-between lh-condensed">
                                <div>
                                    <h7 class="my-0">Net Price</h7>
                                </div>
                                <span class="text-muted" id="net-price-label">$12</span>
                            </li>
                            <li class="list-group-item d-flex justify-content-between lh-condensed">
                                <div>
                                    <h6 class="my-0">Discount</h6>
                                </div>
                                <span class="text-muted">$8</span>
                            </li>
                            <li class="list-group-item d-flex justify-content-between">
                                <span>Total (USD)</span>
                                <strong>$20</strong>
                            </li>
                        </ul>
                    </div>
                </div>
            </div>
        </div>


    </div>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
    <script src="scripts/app.js"></script>
    <script src="scripts/datahelper.js"></script>
    <script>

        const form = document.getElementsByClassName('needs-validation')[0];

        // Get a reference to the input element and the span element
        const frameInput = document.getElementById('frame-input');
        const secondFrameInput = document.getElementById('second-frame-input');
        const netPriceLabel = document.getElementById('net-price-label');

        // Function to calculate the square of a number and update the span
        function calculateAndDisplaySquare() {
            // Get the value from the input field
            const inputValue = frameInput.value;

            if (!form.checkValidity()) {
                form.classList.add('was-validated');
                return;
            }

            if (!isNumber(frameInput)) {
                //alert('Please enter a valid number');
                return;
            }

            // Check if the input is a valid number
            if (inputValue !== '' && !isNaN(inputValue)) {
                // Convert the input value to a number
                const number = parseFloat(inputValue);

                // Calculate the square
                const square = number * number;

                // Display the result in the span element
                netPriceLabel.textContent = square;
            } else {
                // If the input is not a number, clear the span
                netPriceLabel.textContent = '0';
            }
        }

        // Attach the 'oninput' event listener to the input field
        // This runs the function every time the user types
        //frameInput.addEventListener('input', calculateAndDisplaySquare);

        form.addEventListener('input', (event) => {
            calculateAndDisplaySquare();
        });

        document.addEventListener('DOMContentLoaded', () => {
            populateSelectFromCsv(
                'data-files/frames.csv',
                document.getElementById('frameSelect'),
                document.getElementById('statusMessage')
            );
        });
    </script>
</body>

</html>