<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <link rel="icon" type="image/x-icon" href="/favicon.ico">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>PG Plaisio - Posters</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.3/font/bootstrap-icons.css">
    <link rel="stylesheet" href="styles/main.css">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-table@1.24.2/dist/bootstrap-table.min.css">
</head>

<body>

    <!-- Desktop Sidebar -->
    <div id="sidebar" class="sidebar d-none d-md-flex flex-column">
        <button class="btn btn-light mb-3 mx-2" id="toggleBtn">
            <i class="bi bi-list"></i>
        </button>
        <a href="#" class="nav-link"><i class="bi bi-house"></i> Home</a>
        <a href="/wholesale.html" class="nav-link"><i class="bi bi-box"></i> Wholesale</a>
        <a href="/stampless.html" class="nav-link"><i class="bi bi-file"></i> Stampless</a>
        <a href="/wholesaleplus.html" class="nav-link"><i class="bi bi-box-seam"></i> Wholesale+</a>
        <a href="/retail.html" class="nav-link"><i class="bi bi-file-earmark-easel"></i> Retail</a>
        <a href="/posters.html" class="nav-link"><i class="bi bi-image"></i> Posters</a>
        <a href="/frames.html" class="nav-link"><i class="bi bi-border-outer"></i> Frames</a>
        <a href="/artworks.html" class="nav-link"><i class="bi bi-palette"></i> Artworks</a>
    </div>

    <!-- Top Navbar (mobilde görünsün) -->
    <nav class="navbar navbar-light bg-light d-md-none">
        <div class="container-fluid">
            <button class="btn btn-outline-secondary" type="button" data-bs-toggle="offcanvas"
                data-bs-target="#mobileMenu">
                <i class="bi bi-list"></i>
            </button>
            <span class="navbar-brand mb-0 h1">PG Plaisio - Posters</span>
        </div>
    </nav>

    <!-- Offcanvas Sidebar (mobil menü) -->
    <div class="offcanvas offcanvas-start" tabindex="-1" id="mobileMenu">
        <div class="offcanvas-header">
            <h5 class="offcanvas-title">Menu</h5>
            <button type="button" class="btn-close" data-bs-dismiss="offcanvas"></button>
        </div>
        <div class="offcanvas-body">
            <a href="/" class="nav-link mb-2"><i class="bi bi-house me-2"></i> Home</a>
            <a href="/wholesale.html" class="nav-link mb-2"><i class="bi bi-box me-2"></i> Wholesale</a>
            <a href="/stampless.html" class="nav-link mb-2"><i class="bi bi-file me-2"></i> Stampless</a>
            <a href="/wholesaleplus.html" class="nav-link mb-2"><i class="bi bi-box-seam me-2"></i> Wholesale+</a>
            <a href="/retail.html" class="nav-link mb-2"><i class="bi bi-file-earmark-easel me-2"></i> Retail</a>
            <a href="/posters.html" class="nav-link mb-2"><i class="bi bi-image me-2"></i> Posters</a>
            <a href="/frames.html" class="nav-link mb-2"><i class="bi bi-border-outer me-2"></i> Frames</a>
            <a href="/artworks.html" class="nav-link mb-2"><i class="bi bi-palette me-2"></i> Artworks</a>
        </div>
    </div>

    <!-- Content -->
    <div id="content" class="content">
        <h3>Posters</h3>

        <table data-search="true" id="table" data-show-refresh="true" data-show-columns="true"
            data-show-columns-toggle-all="true" data-pagination="true" data-page-size="50"
            data-page-list="[50, 75, 100, 250, all]" data-fixed-scroll="true" data-height="460"
            data-pagination-parts="pageList, pageSize" data-toolbar="#toolbar" data-loading-template="fa"
            data-sort-name="ΡΑΦΙ" data-sort-order="asc">
            <thead>
                <tr>
                    <th data-field="ΚΩΔ.">ΚΩΔ.</th>
                    <th data-field="ΡΑΦΙ">ΡΑΦΙ</th>
                    <th data-field="ΤΕΜ .">ΤΕΜ .</th>
                    <th data-field="ΚΑΛΛΙΤΕΧΝΗΣ">ΚΑΛΛΙΤΕΧΝΗΣ</th>
                    <th data-field="ΤΙΤΛΟΣ">ΤΙΤΛΟΣ</th>
                </tr>
            </thead>
        </table>

    </div>

    <script src="https://cdn.jsdelivr.net/npm/jquery/dist/jquery.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap-table@1.24.2/dist/bootstrap-table.min.js"></script>
    <script src="scripts/app.js"></script>
    <script src="scripts/datahelper.js"></script>
    <script src="https://unpkg.com/papaparse@5.4.1/papaparse.min.js"></script>
    <script>

        function adjustTableHeight() {
            const windowHeight = window.innerHeight;
            const offsetTop = document.getElementById('table').getBoundingClientRect().top;
            const tableHeight = windowHeight - offsetTop - 20; // 20px margin
            $('#table').bootstrapTable('resetView', { height: tableHeight });
        }

        window.addEventListener('resize', adjustTableHeight);
        window.addEventListener('load', adjustTableHeight);

        Papa.parse("data-files/posters.csv", {
            download: true,
            header: true,  // ilk satırı kolon adı olarak al
            skipEmptyLines: true,
            complete: function (results) {
                if (results.errors.length) {
                    console.error("CSV parsing errors:", results.errors);
                }
                $('#table').bootstrapTable({ data: results.data, formatRecordsPerPage: function (t) { return t; } });
                adjustTableHeight();
            }
        });
    </script>
</body>

</html>