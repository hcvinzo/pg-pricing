<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <link rel="icon" type="image/x-icon" href="/favicon.ico">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>PG Plaisio - Pricing</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.3/font/bootstrap-icons.css">
    <link rel="stylesheet" href="styles/main.css">
</head>

<body>

    <!-- Desktop Sidebar -->
    <div id="sidebar" class="sidebar d-none d-md-flex flex-column">
        <button class="btn btn-light mb-3 mx-2" id="toggleBtn">
            <i class="bi bi-list"></i>
        </button>
        <a href="/" class="nav-link"><i class="bi bi-house"></i> Home</a>
        <a href="/wholesale.html" class="nav-link"><i class="bi bi-box"></i> Wholesale</a>
        <a href="/stampless.html" class="nav-link"><i class="bi bi-file"></i> Stampless</a>
        <a href="/wholesaleplus.html" class="nav-link"><i class="bi bi-box-seam"></i> Wholesale+</a>
        <a href="/retail.html" class="nav-link"><i class="bi bi-file-earmark-easel"></i> Retail</a>
        <a href="/posters.html" class="nav-link"><i class="bi bi-image"></i> Posters</a>
        <a href="/frames.html" class="nav-link"><i class="bi bi-border-outer"></i> Frames</a>
        <a href="/artworks.html" class="nav-link"><i class="bi bi-palette"></i> Artworks</a>
    </div>

    <!-- Top Navbar (mobilde görünsün) -->
    <nav class="navbar navbar-light bg-light d-md-none">
        <div class="container-fluid">
            <button class="btn btn-outline-secondary" type="button" data-bs-toggle="offcanvas"
                data-bs-target="#mobileMenu">
                <i class="bi bi-list"></i>
            </button>
            <span class="navbar-brand mb-0 h1">PG Plaisio - Wholesale</span>
        </div>
    </nav>

    <!-- Offcanvas Sidebar (mobil menü) -->
    <div class="offcanvas offcanvas-start" tabindex="-1" id="mobileMenu">
        <div class="offcanvas-header">
            <h5 class="offcanvas-title">Menu</h5>
            <button type="button" class="btn-close" data-bs-dismiss="offcanvas"></button>
        </div>
        <div class="offcanvas-body">
            <a href="/" class="nav-link mb-2"><i class="bi bi-house me-2"></i> Home</a>
            <a href="/wholesale.html" class="nav-link mb-2"><i class="bi bi-box me-2"></i> Wholesale</a>
            <a href="/stampless.html" class="nav-link mb-2"><i class="bi bi-file me-2"></i> Stampless</a>
            <a href="/wholesaleplus.html" class="nav-link mb-2"><i class="bi bi-box-seam me-2"></i> Wholesale+</a>
            <a href="/retail.html" class="nav-link mb-2"><i class="bi bi-file-earmark-easel me-2"></i> Retail</a>
            <a href="/posters.html" class="nav-link mb-2"><i class="bi bi-image me-2"></i> Posters</a>
            <a href="/frames.html" class="nav-link mb-2"><i class="bi bi-border-outer me-2"></i> Frames</a>
            <a href="/artworks.html" class="nav-link mb-2"><i class="bi bi-palette me-2"></i> Artworks</a>
        </div>
    </div>

    <!-- Content -->
    <div id="content" class="content">
        <h3>Wholesale</h3>
        <div class="row">
            <!-- Left: Form -->
            <div class="col-md-9 mb-4">
                <div class="card shadow-sm">
                    <div class="card-body">
                        <h5 class="card-title">Input Form</h5>
                        <form class="needs-validation" novalidate>

                            <div class="row">
                                <!-- Frame -->
                                <div class="col-md-6 g-3">
                                    <label class="form-label" for="frame-select">ΚΟΡΝΙΖΑ</label>
                                    <select class="form-select" id="frame-select" required>
                                        <option disabled selected value>Select</option>
                                        <option value="2">Option A</option>
                                        <option value="3">Option B</option>
                                    </select>
                                    <div class="d-flex flex-row gap-5">
                                        <small><span class="fw-semibold">Τιμή μονάδας :</span><span
                                                id="frame-unit-price"></span>€</small>
                                        <small><span class="fw-semibold">Μέτρο : </span><span
                                                id="frame-unit"></span>m</small>
                                    </div>
                                    <div class="invalid-feedback">
                                        Please select
                                    </div>
                                </div>
                                <div class="col-md-6 g-3">
                                    <!-- Secondary Frame -->
                                    <label class="form-label" for="second-frame-select">ΠΑΤΟΥΡΑ</label>
                                    <select class="form-select" id="second-frame-select" required>
                                        <option disabled selected value>Select</option>
                                        <option value="2">Option A</option>
                                        <option value="3">Option B</option>
                                    </select>
                                    <div class="d-flex flex-row gap-5">
                                        <small><span class="fw-semibold">Τιμή μονάδας :</span><span
                                                id="second-frame-unit-price"></span>€</small>
                                        <small><span class="fw-semibold">Μέτρο : </span><span
                                                id="second-frame-unit"></span>m</small>
                                    </div>
                                    <div class="invalid-feedback">
                                        Please select
                                    </div>
                                </div>
                            </div>

                            <div class="row">
                                <!-- Height -->
                                <div class="col-md-6 g-3">
                                    <label for="height-input" class="form-label">ΥΨΟΣ</label>
                                    <div class="input-group">
                                        <input type="number" class="form-control" id="height-input" value="0" min="0"
                                            step="1" data-type="decimal" required>
                                        <span class="input-group-text">cm</span>
                                    </div>
                                    <div class="invalid-feedback">
                                        Please enter a valid number.
                                    </div>
                                </div>

                                <!-- Width -->
                                <div class="col-md-6 g-3">
                                    <label for="width-input" class="form-label">ΠΛΑΤΟΣ</label>
                                    <div class="input-group">
                                        <input type="number" class="form-control" id="width-input" value="0" min="0"
                                            step="1" data-type="decimal" required>
                                        <span class="input-group-text">cm</span>
                                    </div>
                                    <div class="invalid-feedback">
                                        Please enter a valid number.
                                    </div>
                                </div>
                            </div>


                            <div class="row">
                                <!-- Outer Measurement -->
                                <div class="col-md-6 g-3">
                                    <label class="form-label" for="outer-measure-select">ΕΞΩΤΕΡΙΚΑ</label>
                                    <select class="form-select" id="outer-measure-select" required>
                                        <option disabled selected value>Select</option>
                                        <option value="0">OXI</option>
                                        <option value="1">NAI</option>
                                    </select>
                                    <p id="statusMessage" class="mt-3"></p>
                                    <div class="invalid-feedback">
                                        Please select
                                    </div>
                                </div>

                                <!-- Back Panel (Glass) -->
                                <div class="col-md-6 g-3">
                                    <label class="form-label" for="back-panel-select">ΤΖΑΜΙ-ΠΛΑΤΗ</label>
                                    <select class="form-select" id="back-panel-select" required>
                                        <option disabled selected value>Select</option>
                                        <option value="2">Option A</option>
                                        <option value="3">Option B</option>
                                    </select>
                                    <p id="statusMessage" class="mt-3"></p>
                                    <div class="invalid-feedback">
                                        Please select
                                    </div>
                                </div>
                            </div>

                            <div class="row">
                                <!-- Extra Back Frame -->
                                <div class="col-md-6 g-3">
                                    <label class="form-label" for="extra-back-frame-select">ΕΠΙΤΡΑΠΕΖΙΑ ΠΛΑΤΗ</label>
                                    <select class="form-select" id="extra-back-frame-select" required>
                                        <option disabled selected value>Select</option>
                                        <option value="2">Option A</option>
                                        <option value="3">Option B</option>
                                    </select>
                                    <p id="statusMessage" class="mt-3"></p>
                                    <div class="invalid-feedback">
                                        Please select
                                    </div>
                                </div>

                                <!-- Mirror -->
                                <div class="col-md-6 g-3">
                                    <label class="form-label" for="mirror-select">ΚΑΘΡΕΠΤΗΣ</label>
                                    <select class="form-select" id="mirror-select" required>
                                        <option disabled selected value>Select</option>
                                        <option value="2">Option A</option>
                                        <option value="3">Option B</option>
                                    </select>
                                    <p id="statusMessage" class="mt-3"></p>
                                    <div class="invalid-feedback">
                                        Please select
                                    </div>
                                </div>
                            </div>

                            <!-- Paspartout -->
                            <div class="row">
                                <div class="col-md-6 g-3">
                                    <label class="form-label" for="paspartout-select">ΠΑΣΠΑΡΤΟΥ</label>
                                    <select class="form-select" id="paspartout-select" required>
                                        <option disabled selected value>Select</option>
                                        <option value="2">Option A</option>
                                        <option value="3">Option B</option>
                                    </select>
                                    <p id="statusMessage" class="mt-3"></p>
                                    <div class="invalid-feedback">
                                        Please select
                                    </div>
                                </div>

                                <!-- Extra Work -->
                                <div class="col-md-6 g-3">
                                    <label class="form-label" for="extra-work-select">ΕΡΓΑΣΙΕΣ</label>
                                    <select class="form-select" id="extra-work-select" required>
                                        <option disabled selected value>Select</option>
                                        <option value="2">Option A</option>
                                        <option value="3">Option B</option>
                                    </select>
                                    <p id="statusMessage" class="mt-3"></p>
                                    <div class="invalid-feedback">
                                        Please select
                                    </div>
                                </div>
                            </div>

                            <div class="row">
                                <!-- Backing board Type -->
                                <div class="col-md-6 g-3">
                                    <label class="form-label" for="back-board-type-select">ΤΥΠΟΣ ΚΟΝΤΡΑΣ</label>
                                    <select class="form-select" id="back-board-type-select" required>
                                        <option disabled selected value>Select</option>
                                        <option value="2">Option A</option>
                                        <option value="3">Option B</option>
                                    </select>
                                    <div class="invalid-feedback">
                                        Please select
                                    </div>
                                </div>

                                <!-- Backing board measurements -->
                                <div class="col-md-6 g-3">
                                    <label for="back-board-length-input" class="form-label">ΜΕΤΡΑ ΚΟΝΤΡΑΣ</label>
                                    <div class="input-group">
                                        <input type="number" class="form-control" id="back-board-length-input" value="0"
                                            data-type="integer" required>
                                        <span class="input-group-text">m</span>
                                    </div>
                                    <div class="invalid-feedback">
                                        Please enter a valid number.
                                    </div>
                                </div>
                            </div>

                            <div class="row">
                                <!-- Printing -->
                                <div class="col-md-6 g-3">
                                    <label class="form-label" for="printing-select">ΕΚΤΥΠΩΣΗ</label>
                                    <select class="form-select" id="printing-select" required>
                                        <option disabled selected value>Select</option>
                                        <option value="2">Option A</option>
                                        <option value="3">Option B</option>
                                    </select>
                                    <div class="invalid-feedback">
                                        Please select
                                    </div>
                                </div>

                                <!-- Artwork -->
                                <div class="col-md-6 g-3">
                                    <label class="form-label" for="artwork-select">Artworks</label>
                                    <select class="form-select" id="artwork-select" required>
                                        <option disabled selected value>Select</option>
                                        <option value="2">Option A</option>
                                        <option value="3">Option B</option>
                                    </select>
                                    <div class="invalid-feedback">
                                        Please select
                                    </div>
                                </div>
                            </div>

                            <div class="row">
                                <!-- Stretchen -->
                                <div class="col-md-6 g-3">
                                    <label class="form-label" for="strecthen-select">ΤΕΛΑΡΩΜΑ</label>
                                    <select class="form-select" id="strecthen-select" required>
                                        <option disabled selected value>Select</option>
                                        <option value="2">Option A</option>
                                        <option value="3">Option B</option>
                                    </select>
                                    <p id="statusMessage" class="mt-3"></p>
                                    <div class="invalid-feedback">
                                        Please select
                                    </div>
                                </div>
                            </div>
                        </form>
                    </div>
                </div>
            </div>

            <!-- Right : Price Summary -->
            <div class="col-md-3">
                <div class="card bg-light shadow-sm">
                    <div class="card-header">
                        Price Summary
                    </div>
                    <div class="card-body">
                        <ul class="list-group mb-3">
                            <li class="list-group-item d-flex justify-content-between lh-condensed">
                                <div>
                                    <h7 class="my-0">Net Price</h7>
                                </div>
                                <span class="text-muted" id="net-price-label">$12</span>
                            </li>
                            <li class="list-group-item d-flex justify-content-between lh-condensed">
                                <div>
                                    <h6 class="my-0">Discount</h6>
                                </div>
                                <span class="text-muted">$8</span>
                            </li>
                            <li class="list-group-item d-flex justify-content-between">
                                <span>Total (USD)</span>
                                <strong>$20</strong>
                            </li>
                        </ul>
                    </div>
                </div>
            </div>
        </div>


    </div>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
    <script src="scripts/app.js"></script>
    <script src="scripts/datahelper.js"></script>
    <script>

        const form = document.getElementsByClassName('needs-validation')[0];

        // Get a reference to the input element and the span element
        const frameSelect = document.getElementById('frame-select');
        const frameUnitPrice = document.getElementById('frame-unit-price');

        //const secondFrameInput = document.getElementById('second-frame-input');
        //const netPriceLabel = document.getElementById('net-price-label');

        // Function to calculate the square of a number and update the span
        function calculateAndDisplaySquare() {
            // Get the value from the input field
            const inputValue = frameInput.value;

            if (!form.checkValidity()) {
                form.classList.add('was-validated');
                return;
            }

            if (!isNumber(frameInput)) {
                //alert('Please enter a valid number');
                return;
            }

            // Check if the input is a valid number
            if (inputValue !== '' && !isNaN(inputValue)) {
                // Convert the input value to a number
                const number = parseFloat(inputValue);

                // Calculate the square
                const square = number * number;

                // Display the result in the span element
                netPriceLabel.textContent = square;
            } else {
                // If the input is not a number, clear the span
                netPriceLabel.textContent = '0';
            }
        }

        // Attach the 'oninput' event listener to the input field
        // This runs the function every time the user types
        //frameInput.addEventListener('input', calculateAndDisplaySquare);

        form.addEventListener('input', (event) => {
            //calculateAndDisplaySquare();
        });

        frameSelect.addEventListener('input', (event) => {
            findValueInCsv(
                'data-files/frame-prices.csv',
                0, event.target.value
                , 1, ';').then((data) => {
                    frameUnitPrice.textContent = data;
                    //document.querySelector('.frame-unit').textContent = data['ΜΕΤΡΟ'];
                });
        });

        document.addEventListener('DOMContentLoaded', () => {
            populateSelectFromCsv(
                'data-files/frame-prices.csv',
                document.getElementById('frame-select'),
                "OXI", 0, 0, ';'
            );
        });
    </script>
</body>

</html>